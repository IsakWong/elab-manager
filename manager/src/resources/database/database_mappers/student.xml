<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="student">
    <resultMap id="studentResultMap" type="student">
        <result property="number" column="学号"/>
        <result property="name" column="姓名"/>
        <result property="college" column="院系"/>
        <result property="theoryClass" column="理论课"/>
        <result property="hardTime" column="硬件时间"/>
        <result property="softTime" column="软件时间"/>
        <result property="hardScore" column="硬件成绩"/>
        <result property="softScore" column="软件成绩"/>
        <result property="paperScore" column="试卷成绩"/>
        <result property="email" column="邮箱"/>
        <result property="tel" column="联系电话"/>
        <result property="pwd" column="密码"/>
        <result property="makeUpLessons" column="补课"/>
        <result property="courseSelectionTime" column="选课时间"/>
        <result property="remark" column="备注"/>
    </resultMap>
    <resultMap id="rota" type="rota">
        <result property="number" column="学号"/>
        <result property="name" column="姓名"/>
        <result property="group" column="组别"/>
        <result property="time" column="时段"/>
        <result property="week" column="单双周"/>
        <result property="day" column="星期"/>
    </resultMap>
    <select id="selectStudentByName" parameterType="string" resultMap="studentResultMap">
        select * from 2018秋_计算机安装与调试技术 where 姓名 = #{id}
    </select>
    <select id="selectStudentByNumber" parameterType="string" resultMap="studentResultMap">
        select * from 2018秋_计算机安装与调试技术 where 学号 = #{id}
    </select>
    <select id="selectStudentByCollege" parameterType="string" resultMap="studentResultMap">
        select * from 2018秋_计算机安装与调试技术 where 院系 = #{id}
    </select>
    <select id="selectAllStudents" resultMap="studentResultMap">
        select * from 2018秋_计算机安装与调试技术
    </select>
    <select id="selectSchoolOpeningDate" resultType="schoolOpen">
        select
            开学日期 as "schoolOpeningDate",
            学期 as "term",
            硬件理论 as "hardTheory",
            软件理论 as "softTheory",
            维护理论 as "maintenanceTheory",
            硬件周次 as "hardWeeks",
            软件周次 as "softWeeks",
            维护周次 as "maintenanceWeeks",
            关闭选课 as "closeChooseClasses",
            值班形式 as "onDutyForm",
            课容量 as "classCapacity"
        from 开学日期
    </select>
    <select id="selectRota" resultMap="rota">
        select * from duty
    </select>
    <update id="updateScore" parameterType="student">
        update 2018秋_计算机安装与调试技术 set
            硬件成绩 = #{hardScore},
            软件成绩 = #{softScore},
            试卷成绩 = #{paperScore}
        where 学号 = #{number}
    </update>
</mapper>